"use strict";(self.webpackChunkxpla_academy=self.webpackChunkxpla_academy||[]).push([[9246],{34673:(e,t,n)=>{n.d(t,{Z:()=>h});var a=n(87462),s=n(67294),r=n(86010),l=n(72389),o=n(86043);const i={details:"details_lb9f",isBrowser:"isBrowser_bmU9",collapsibleContent:"collapsibleContent_i85q"};function c(e){return!!e&&("SUMMARY"===e.tagName||c(e.parentElement))}function d(e,t){return!!e&&(e===t||d(e.parentElement,t))}function p(e){let{summary:t,children:n,...p}=e;const u=(0,l.Z)(),m=(0,s.useRef)(null),{collapsed:h,setCollapsed:k}=(0,o.u)({initialState:!p.open}),[g,w]=(0,s.useState)(p.open),f=s.isValidElement(t)?t:s.createElement("summary",null,t??"Details");return s.createElement("details",(0,a.Z)({},p,{ref:m,open:g,"data-collapsed":h,className:(0,r.Z)(i.details,u&&i.isBrowser,p.className),onMouseDown:e=>{c(e.target)&&e.detail>1&&e.preventDefault()},onClick:e=>{e.stopPropagation();const t=e.target;c(t)&&d(t,m.current)&&(e.preventDefault(),h?(k(!1),w(!0)):k(!0))}}),f,s.createElement(o.z,{lazy:!1,collapsed:h,disableSSRStyle:!0,onCollapseTransitionEnd:e=>{k(e),w(!e)}},s.createElement("div",{className:i.collapsibleContent},n)))}const u={details:"details_b_Ee"},m="alert alert--info";function h(e){let{...t}=e;return s.createElement(p,(0,a.Z)({},t,{className:(0,r.Z)(m,u.details,t.className)}))}},53331:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>d,default:()=>g,frontMatter:()=>c,metadata:()=>p,toc:()=>m});var a=n(87462),s=n(67294),r=n(3905),l=n(34673),o=n(18947);const i=()=>s.createElement(o.xR,{customSetup:{dependencies:{"@xpla/xpla.js":"^0.3.1","crypto-browserify":"latest"},entry:"index.js"},files:{"/index.js":"const { LCDClient, MnemonicKey, MsgExecuteContract } = require(\"@xpla/xpla.js\");\n\nconst lcd = new LCDClient({\n    chainID: 'cube_47-5',\n    URL: 'https://cube-lcd.xpla.dev'\n});\n\nconst main = async () => {\n    const mk = new MnemonicKey({\n        mnemonic: 'myth snow ski simple century dad gun dolphin sail lawsuit fringe image toast betray frown keep harbor flash table prevent isolate panic tag vehicle' // Replace with your mnemonic words\n    })\n\n    const wallet = lcd.wallet(mk);\n    const myWalletAddress = wallet.key.accAddress;\n    const myContractAddress = \"xpla10r58td65tgvpaqngg7802rtpg5l6as8my2unnlnpa8en894qqstshxq0u0\"; // Input your Contract Address\n    const myTokenId = 'token_id_1703034376454'; // Input your token_id\n\n    const transferMsg = new MsgExecuteContract(\n        myWalletAddress,\n        myContractAddress,\n        {\n            transfer_nft: {\n            token_id: myTokenId,\n            recipient: 'xpla1cwduqw0z8y66mnfpev2mvrzzzu98tuexepmwrk'\n          }\n        }\n    );\n\n    const signedTx = await lcd.wallet(mk).createAndSignTx({ // Creating and signing the transaction\n        msgs: [transferMsg]\n    });\n\n    const txResult = await lcd.tx.broadcastSync(signedTx);\n    console.log(txResult.txhash);\n}\nmain()"},options:{layout:"console",showLineNumbers:!0,editorHeight:600}}),c={sidebar_position:4},d="Send CW721 NFT (Javascript)",p={unversionedId:"tutorial/make-cw721/send-cw721",id:"tutorial/make-cw721/send-cw721",title:"Send CW721 NFT (Javascript)",description:"Let us send an NFT to another wallet using our tool called, CW721contract!",source:"@site/startlearning/3-tutorial/2-make-cw721/4-send-cw721.mdx",sourceDirName:"3-tutorial/2-make-cw721",slug:"/tutorial/make-cw721/send-cw721",permalink:"/startlearning/tutorial/make-cw721/send-cw721",draft:!1,tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Working with CW721 Data",permalink:"/startlearning/tutorial/make-cw721/query-cw721"},next:{title:"Advanced - Dive deep into XPLA blockchain",permalink:"/startlearning/category/advanced---dive-deep-into-xpla-blockchain"}},u={},m=[{value:"Preview",id:"preview",level:2},{value:"Sending NFTs with Javascript",id:"run-js",level:2},{value:"Run Code",id:"runcode",level:3},{value:"Explanation",id:"explaination",level:2},{value:"\ub9c8\ubb34\ub9ac",id:"conclusion",level:2}],h={toc:m},k="wrapper";function g(e){let{components:t,...n}=e;return(0,r.kt)(k,(0,a.Z)({},h,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"send-cw721-nft-javascript"},"Send CW721 NFT (Javascript)"),(0,r.kt)("p",null,"Let us send an NFT to another wallet using our tool called, CW721contract!"),(0,r.kt)("h2",{id:"preview"},"Preview"),(0,r.kt)("p",null,"The code for transferring NFTs using JavaScript is provided below.\nInsert your mnemonic phrase on line 10, and on lines 15 and 16, input the contract address and token_id value created in the previous step, respectively.\nAfter modifying the code, just wait a moment, and you'll be able to see the execution results on the right."),(0,r.kt)(i,{mdxType:"Ex11"}),(0,r.kt)("br",null),(0,r.kt)("p",null,"If you have grasped the concept of the Preview Code, feel free to skip the ",(0,r.kt)("a",{parentName:"p",href:"/startlearning/tutorial/make-cw721/send-cw721#run-js"},"following details")," and proceed directly to the ",(0,r.kt)("a",{parentName:"p",href:"/startlearning/tutorial/deep-understand-xpla/local-network"},"next step"),"."),(0,r.kt)("h2",{id:"run-js"},"Sending NFTs with Javascript"),(0,r.kt)("p",null,"Let's try transferring an NFT to another wallet using JavaScript code."),(0,r.kt)("h3",{id:"runcode"},"Run Code"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Please create a file named example-send-cw721.js.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Copy the code below and paste it into the example-send-cw721.js file, then save it."),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-js",metastring:"{10,15,16}","{10,15,16}":!0},"const { LCDClient, MnemonicKey, MsgExecuteContract } = require(\"@xpla/xpla.js\");\n\nconst lcd = new LCDClient({\n    chainID: 'cube_47-5',\n    URL: 'https://cube-lcd.xpla.dev'\n});\n\nconst main = async () => {\n    const mk = new MnemonicKey({\n        mnemonic: 'myth snow ski simple century dad gun dolphin sail lawsuit fringe image toast betray frown keep harbor flash table prevent isolate panic tag vehicle' // Replace with your mnemonic words\n    })\n\n    const wallet = lcd.wallet(mk);\n    const myWalletAddress = wallet.key.accAddress;\n    const myContractAddress = \"xpla10r58td65tgvpaqngg7802rtpg5l6as8my2unnlnpa8en894qqstshxq0u0\"; // Input your Contract Address\n    const myTokenId = 'token_id_1703034376454'; // Input your token_id\n\n    const transferMsg = new MsgExecuteContract(\n        myWalletAddress,\n        myContractAddress,\n        {\n            transfer_nft: {\n                token_id: myTokenId,\n                recipient: 'xpla1cwduqw0z8y66mnfpev2mvrzzzu98tuexepmwrk'\n            }\n        }\n    );\n\n    const signedTx = await lcd.wallet(mk).createAndSignTx({ // Creating and signing the transaction\n        msgs: [transferMsg]\n    });\n\n    const txResult = await lcd.tx.broadcastSync(signedTx);\n    console.log(txResult.txhash);\n}\nmain()\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Please update the mnemonic words on line 10 with your own mnemonic words. On line 15, replace ",(0,r.kt)("inlineCode",{parentName:"p"},"myContractAddress")," with the CW721 contract address you created, and on line 16, assign the NFT token_id value you want to transfer to the ",(0,r.kt)("inlineCode",{parentName:"p"},"myTokenId")," variable.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Enter the following command in the VSCode Terminal."),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"node example-send-cw721.js\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"In the Terminal, check the results. You will be able to see the transaction hash value for the NFT transfer."))),(0,r.kt)("h2",{id:"explaination"},"Explanation"),(0,r.kt)("p",null,"First, we loaded the wallet using mnemonic words. Make sure to load it with your own mnemonic words!"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const mk = new MnemonicKey({\n    mnemonic: 'myth snow ski simple century dad gun dolphin sail lawsuit fringe image toast betray frown keep harbor flash table prevent isolate panic tag vehicle',\n})\n\nconst wallet = lcd.wallet(mk);\nconst myWalletAddress = wallet.key.accAddress;\n")),(0,r.kt)("br",null),(0,r.kt)("p",null,"To transfer an NFT, it's necessary to execute the ",(0,r.kt)("inlineCode",{parentName:"p"},"transfer_nft")," function of the CW721 contract (MsgExecuteContract).\nHence, we input the required variables for the ",(0,r.kt)("inlineCode",{parentName:"p"},"transfer_nft")," function.\nYou likely assigned your own CW721 contract address and token_id to the ",(0,r.kt)("inlineCode",{parentName:"p"},"myContractAddress")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"myTokenId")," variables, respectively."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const myContractAddress = \"xpla10r58td65tgvpaqngg7802rtpg5l6as8my2unnlnpa8en894qqstshxq0u0\"; // Input your Contract Address\nconst myTokenId = 'token_id_1703034376454'; // Input your token_id\n\nconst transferMsg = new MsgExecuteContract(\n    myWalletAddress,\n    myContractAddress,\n    {\n        transfer_nft: {\n            token_id: myTokenId,\n            recipient: 'xpla1cwduqw0z8y66mnfpev2mvrzzzu98tuexepmwrk'\n        }\n    }\n);\n")),(0,r.kt)(l.Z,{summary:"Where can I find the data needed to execute the transfer_nft function?",mdxType:"Details"},(0,r.kt)("p",null,"You can find the data required to execute the ",(0,r.kt)("inlineCode",{parentName:"p"},"transfer_nft")," function on the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/CosmWasm/cw-nfts/blob/main/packages/cw721/README.md"},"CW721 GitHub"),".\nAdditionally, you can also find information about other functions (like Approve, Revoke, etc.) that can be executed through the CW721 contract.")),(0,r.kt)("br",null),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"createAndSignTx")," function is used to generate a transaction and proceed with its signing."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const signedTx = await lcd.wallet(mk).createAndSignTx({ // Creating and signing the transaction\n    msgs: [transferMsg]\n});\n")),(0,r.kt)("br",null),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"broadcastSync")," function is then used to transmit the created transaction to the network. If the transaction is successfully created on the XPLA blockchain, you should be able to see the transaction hash value as a result."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const txResult = await lcd.tx.broadcastSync(signedTx);\nconsole.log(txResult.txhash);\n")),(0,r.kt)("br",null),(0,r.kt)("p",null,"Did the transaction hash value appear correctly? Use the ",(0,r.kt)("a",{parentName:"p",href:"https://explorer.xpla.io/testnet/tx/53617a3baa568b3fd05528e0cea7f6c994ee9d32ab9c4b0fc94fb2acadbffcaf"},"XPLA Explorer")," to check the results of the NFT transfer."),(0,r.kt)("h2",{id:"conclusion"},"\ub9c8\ubb34\ub9ac"),(0,r.kt)("p",null,"we have explored transferring NFTs using the CW721 contract. Let's utilize the CW721 contract to suit your game and create an environment where users can enjoy the game even more with NFTs."))}g.isMDXComponent=!0}}]);